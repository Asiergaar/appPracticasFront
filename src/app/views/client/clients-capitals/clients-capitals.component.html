<div id="clientCapitals" class="lists tarjeta">

  <h1 class="tituloPagina">Clients capitals evolution</h1>

  <button type="submit" routerLink="/ClientsList" mat-raised-button class="pbdbtn">Clients list</button>
  <button type="submit" routerLink="/AddClient" mat-raised-button class="addbtn">Add Client</button>
  <button type="submit" routerLink="/AddCapital" mat-raised-button class="addbtn">Add Capital</button>


  <mat-form-field class="listFilter poolslist">
    <input (keyup)="applyFilter(target($event).value)" matInput placeholder="Search...">
  </mat-form-field>

  <mat-table matSort [dataSource]="dataSource" class="tablelist">

    <ng-container *ngFor="let col of displayedColumns" matColumnDef="{{col}}">
      <mat-header-cell *matHeaderCellDef mat-sort-header> <div *ngIf="col == 'Show Clients' || col == 'Hide Clients'; else othercols" (click)="submit()">{{col}} </div> </mat-header-cell>
      <ng-template #othercols> {{col}} </ng-template>
      <mat-cell *matCellDef="let caps"><span *ngIf="col == 'Date'; else show">{{caps[col]}}</span>

        <ng-template #show><div *ngIf="col == 'Show Clients' || col == 'Hide Clients'; else clients" (click)="submit()" class="pointer">...</div></ng-template>

        <ng-template #clients><span *ngIf="col != 'Benefit'; else neg">{{caps[col] | number: '1.2-2'}}
                  <p *ngIf="caps['newcapital' + col.substring(col.length-1, col.length)]" class="newcapital">{{ ' (' + caps['newcapital' + col.substring(col.length-1, col.length)] + ')'}}</p></span>
        </ng-template>
        <ng-template #neg><span *ngIf="caps[col] < 0; else pos" class="negBenefit">{{caps[col] | number: '1.6-6'}}%</span></ng-template>
        <ng-template #pos><span  *ngIf="caps[col] > 0; else pos2" class="posBenefit">{{caps[col] | number: '1.6-6'}}%</span></ng-template>
        <ng-template #pos2><span class="zeroBenefit">{{caps[col] | number: '1.6-6'}}%</span></ng-template>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

  </mat-table>
  <mat-paginator [pageSizeOptions]="[9, 15, 20, max]" showFirstLastButtons class="pagination"></mat-paginator>

  <span>

  </span>
</div>
